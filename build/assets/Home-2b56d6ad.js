import{r,b as c,j as t}from"./index-51ec0f7a.js";import{a as C,B as O}from"./Button-e7144da7.js";function M(n,h){const d=[];let o=n;for(;o<=h;)d.push(new Date(o)),o.setDate(o.getDate()+1);return d}const N=new Date("2022-11-10"),L=new Date("2025-12-31"),l=M(N,L),b={A:"Off",B:"Morning",C:"Night",D:"Off"},j={A:"Morning",B:"Off",C:"Off",D:"Night"},k={A:"Off",B:"Night",C:"Morning",D:"Off"},x={A:"Night",B:"Off",C:"Off",D:"Morning"};let a=1;const s=[];for(let n=1;n<l.length;n++)a<3?(s.push({date:l[n],assign:b}),a++):a<5?(s.push({date:l[n],assign:j}),a++):a<7?(s.push({date:l[n],assign:k}),a++):a==8?(s.push({date:l[n],assign:x}),a=1):(s.push({date:l[n],assign:x}),a++);const z=()=>{const[n,h]=r.useState({count:40,con:!0}),[d,o]=r.useState(null),[T,u]=r.useState(""),[S,m]=r.useState(""),D=(e,i)=>{for(let g in e[0].assign)e[0].assign[g]===i&&(console.log(g),o(g))};r.useEffect(()=>{const e=new Date,i=e.getTime()+e.getTimezoneOffset()*60*1e3,p=new Date(i+60*60*1e3*4).getHours(),w=s.filter(B=>new Date(B.date).toLocaleDateString()==new Date().toLocaleDateString());p>=7&&p<19?(u("Currently, Shift"),D(w,"Morning"),m("is working till 7pm")):(u("Currently, Shift"),D(w,"Night"),m("is working till 7am"))},[]);const f=s.filter(e=>{let i=new Date(e.date).getTime()+864e5;return new Date(i).getTime()>=new Date().getTime()});f.splice(n.count,s.length-1);const y=()=>{h(e=>({...e,count:e.count+30}))};return r.useEffect(()=>{new Date(f[f.length-1].date).getTime()===new Date(s[s.length-1].date).getTime()&&h(e=>({...e,con:!1}))},[n.count]),c(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:"0px",flexDirection:"column"},children:[c("h1",{style:{color:"white",marginBottom:"10px"},className:"shiftText",children:[T," - ",d," ",S]}),c("table",{className:"shiftSheet ",children:[t("thead",{className:"sticky",children:c("tr",{children:[t("th",{children:"Date"}),t("th",{children:"Shift A"}),t("th",{children:"Shift B"}),t("th",{children:"Shift C"}),t("th",{children:"Shift D"})]})}),t("tbody",{children:f.map((e,i)=>c("tr",{className:i===0?"highlight":"",children:[c("td",{style:{display:"flex",justifyContent:"start"},children:[t("p",{style:{width:"100px"},children:new Date(e.date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-")}),t("p",{children:new Date(e.date).toLocaleDateString("us",{weekday:"short"})})]}),t("td",{children:e.assign.A}),t("td",{children:e.assign.B}),t("td",{children:e.assign.C}),t("td",{children:e.assign.D})]},i))})]}),n.con&&t(O,{onClick:y,variant:"contained",sx:{bgcolor:"#20a4f3",textTransform:"capitalize",mt:"10px"},children:"Load More"})]})};export{z as default};
